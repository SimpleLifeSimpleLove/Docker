# Docker

* Docker学习
  * Docker概述
  * Docker安装
  * Docker命令
    * 镜像命令
    * 容器命令
    * 操作命令
    * ......
  * Docker镜像
  * 数据卷技术
  * DockerFile
  * Docker网络原理
  * IDEA整合Docker
  * Docker Compose
  * Docker Swarm
  * CI/CD   Jenkins



## Docker概述

### Docker为什么会出现

一款产品：开发 ----> 上线  两套环境！应用环境，应用配置！

开发 ---- 运维。问题：程序在我的电脑可以运行！或者版本更新，导致服务不可用！对于运维来说，考验很大！

环境配置时十分麻烦的，集群的话每个机器都要部署环境（集群Redis、ES、Hadoop......），费时费力！

如果我们发布的时候带上环境就能解决上面的问题。比如：（jar +（Redis MySQL jdk ES））

---

传统开发：开发jar，然后运维部署环境和jar包。

现在：开发打包部署上线，一套流程做完！

---

* 类比apk
  * java --- apk --- 发布 --- 应用商店 --- 张三使用apk --- 安装即可
  * java --- jar（自带环境） --- 打包项目带上环境（镜像） --- Docker仓库：商店 --- 下载我们发布的镜像 --- 直接运行即可

---

Docker给以上问题，提出了解决方案：

![image-20201127214540710](README.assets/image-20201127214540710.png)

Docker的思想来自于集装箱！

Docker的核心思想：隔离！

Docker通过隔离机制，可以将服务利用到极致！

---

* 为什么会出现Docker？
  * 所有新技术出现的原因本质是一样的：现实生活中出现了一些问题，我们需要去解决



### Docker的历史

2010年，几个搞IT的年轻人，就在美国成立了一家公司：dotCloud

做一些pass的云计算服务！LXC有关的容器技术！

他们将自己的技术（容器化技术）命名为Docker！

Docker刚刚诞生的时候，没有引起行业的注意！dotCloud，就活不下去！

开源！！！

开放开发源代码，2013年，Docker开源！

越来越多的人发现了Docker的优点！Docker火了，Docker每个月都会更新一个版本！

2014年4月9日，Docker1.0发布！

Docker为什么这么火？十分的轻巧！

在容器技术出现之前，我们都是使用虚拟机技术！

虚拟机：在Windows中安装一个Vmware，通过这个软件我们可以虚拟出一台或者多台电脑！但是很笨重！

虚拟机也属于虚拟化技术。Docker容器技术，也是一种虚拟化技术！

```
vm : linux centos 原生镜像（一个电脑！）隔离，需要开启多个虚拟机！  几个G
docker : 隔离（最核心的内容），十分的小巧，运行镜像就行了！  几个MB
```

---

* 聊聊Docker

  * Docker是基于Go语言开发的！开源项目！

  * 官网：https://www.docker.com/

    ![image-20201127215746582](README.assets/image-20201127215746582.png)

  * 文档地址：https://docs.docker.com/    Docker的文档是超级详细的！

  * 仓库地址：https://hub.docker.com/



### Docker能干嘛

* 之前的虚拟机技术

  ![image-20201127220157627](README.assets/image-20201127220157627.png)

  虚拟机技术缺点：

  1. 资源占用十分多
  2. 冗余步骤多
  3. 启动很慢

  

* 容器化技术

  <font color=red>**容器化技术不是模拟一个完整的操作系统**</font>

  ![image-20201127220415162](README.assets/image-20201127220415162.png)

  比较Docker 和 虚拟机技术的不同：

  * 传统虚拟机，虚拟出一套硬件，运行一个完整的操作系统，然后在这个系统上安装和运行软件

  * 容器内的应用直接运行在宿主机的内容，容器是没有自己的内核的，也没有虚拟我们的硬件，所以就轻便了

  * 每个容器之间相互隔离，每个容器内都有一个属于自己的文件系统，互不影响

    

* DevOps（开发、运维）

  **更快的交付和部署**

  传统：一堆帮助文档，安装程序

  Docker：打包镜像发布测试，一键运行

  **更便捷的升级和扩缩容**

  使用了Docker之后，我们部署应用就像搭积木一样！

  项目打包为一个镜像，扩展 服务器A！服务器B！

  **更简单的系统运维**

  在容器化技术之后，我们的开发，测试环境都是高度一致的。

  **更高效的计算资源利用**

  Docker是内核级别的虚拟化，可以在一个物理机上运行很多实例！服务器的性能可以被压榨到极致！

